"use strict";(self["webpackChunksrt"]=self["webpackChunksrt"]||[]).push([[351],{7351:function(t,e,a){a.r(e),a.d(e,{default:function(){return J}});var o=a(4711);const l=t=>((0,o.dD)("data-v-512f45ca"),t=t(),(0,o.Cn)(),t),s=l((()=>(0,o._)("h1",null,"My Todo List",-1))),n={class:"row"},i={class:"float-left"},r={class:"float-right"},u={class:"row custom-table-width"},d={id:"reportForm"},c={id:"InsertTable",class:"table table-striped table-bordered table-hover table-striped"},m={scope:"row"},p=["onUpdate:modelValue"],h=["label"],b=["value"],f=["onUpdate:modelValue"],y=["value"],v=["onUpdate:modelValue"],g=["onUpdate:modelValue"],w={style:{"vertical-align":"middle"}},C={name:"totalCost"},x=["onUpdate:modelValue"],_={style:{"vertical-align":"middle"}},S={name:"profit"},k=["onClick"],q={key:0},I=["colspan"],D={class:"row"},T={class:"float-right"},V=["innerHTML"];function U(t,e,a,l,U,A){const $=(0,o.Q2)("number-input");return(0,o.wg)(),(0,o.iD)("div",null,[s,(0,o._)("div",n,[(0,o._)("div",i,[(0,o._)("button",{class:"btn btn-info",id:"backBtn",onClick:e[0]||(e[0]=(...t)=>A.backPage&&A.backPage(...t))}," 上一頁 ")]),(0,o._)("div",r,[(0,o._)("button",{class:"btn btn-info",id:"btnAdd",onClick:e[1]||(e[1]=(...t)=>A.AddRow&&A.AddRow(...t))}," 新增 ")])]),(0,o._)("div",u,[(0,o._)("form",d,[(0,o._)("table",c,[(0,o._)("thead",null,[(0,o._)("tr",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(U.titles,(t=>((0,o.wg)(),(0,o.iD)("th",{scope:"col",key:t.index,class:"text-nowrap"},(0,o.zw)(t.val),1)))),128))])]),(0,o._)("tbody",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(U.items,((t,e)=>((0,o.wg)(),(0,o.iD)("tr",{key:t.storeId},[(0,o._)("td",m,[(0,o.wy)((0,o._)("select",{class:"form-control",name:"merchandise","onUpdate:modelValue":e=>t.merchandise=e},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(U.merchandiseGroupDdl,((t,e)=>((0,o.wg)(),(0,o.iD)("optgroup",{key:t.index,label:e},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t,(t=>((0,o.wg)(),(0,o.iD)("option",{key:t.index,value:t.val},(0,o.zw)(t.item),9,b)))),128))],8,h)))),128))],8,p),[[o.bM,t.merchandise]])]),(0,o._)("td",null,[(0,o.wy)((0,o._)("select",{class:"form-control",name:"dataSource","onUpdate:modelValue":e=>t.dataSource=e},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(U.dataSourceDdl,(t=>((0,o.wg)(),(0,o.iD)("option",{key:t.index,value:t.val},(0,o.zw)(t.item),9,y)))),128))],8,f),[[o.bM,t.dataSource]])]),(0,o._)("td",null,[(0,o.wy)((0,o._)("input",{type:"text",class:"form-control",name:"cost",maxlength:"20",placeholder:"請輸入金額","onUpdate:modelValue":e=>t.cost=e},null,8,v),[[o.nr,t.cost,void 0,{lazy:!0,number:!0,trim:!0}],[$]])]),(0,o._)("td",null,[(0,o.wy)((0,o._)("input",{type:"text",class:"form-control",name:"quantity",maxlength:"20",placeholder:"請輸入數量","onUpdate:modelValue":e=>t.quantity=e},null,8,g),[[o.nr,t.quantity,void 0,{lazy:!0,number:!0,trim:!0}],[$]])]),(0,o._)("td",w,[(0,o._)("label",C,(0,o.zw)(A.ComputeTotalCount(t)),1)]),(0,o._)("td",null,[(0,o.wy)((0,o._)("input",{type:"text",class:"form-control",name:"sales",maxlength:"20",placeholder:"請輸入金額","onUpdate:modelValue":e=>t.sales=e},null,8,x),[[o.nr,t.sales,void 0,{lazy:!0,number:!0,trim:!0}],[$]])]),(0,o._)("td",_,[(0,o._)("label",S,(0,o.zw)(A.ComputeProfit(t)),1)]),(0,o._)("td",null,[(0,o._)("button",{class:"btn btn-danger",onClick:a=>A.DeleteRow(t,e),type:"button"}," 刪除 ",8,k)])])))),128)),0===U.items.length?((0,o.wg)(),(0,o.iD)("tr",q,[(0,o._)("td",{colspan:U.titles.length},"請新增列表",8,I)])):(0,o.kq)("",!0)])])])]),(0,o._)("div",D,[(0,o._)("div",T,[(0,o._)("button",{class:"btn btn-primary float-right",id:"btnSubmit",type:"button",onClick:e[2]||(e[2]=(...t)=>A.AjaxSubmit&&A.AjaxSubmit(...t))}," Ajax儲存 ")]),(0,o._)("div",{innerHTML:U.showResult},null,8,V)])])}a(7658);var A=a(2171);function $(t){var e=null;if(!t)return[];e="string"===typeof t?JSON.parse(JSON.stringify(A.t.filter((e=>t==e.storeId)))):JSON.parse(JSON.stringify(A.t.filter((e=>t.includes(e.storeId)))));var a=Array.prototype.concat.apply([],Object.values(F));return e.forEach((t=>{t.dataSource=z.find((e=>e.item==t.dataSource))?.val,t.merchandise=a.find((e=>e.item==t.merchandise))?.val})),e}let z=[{val:"shopee",item:"蝦皮"},{val:"facebook",item:"Facebook"},{val:"Other",item:"其他"}],F={"束帶":[{val:"bun0001",item:"束帶工具"},{val:"bun0002",item:"4.6x300mm"},{val:"bun0003",item:"4.6x400mm"},{val:"bun0004",item:"4.6x500mm"},{val:"bun0005",item:"4.6x200mm"},{val:"bun0006",item:"4.6x600mm"}],"手套":[{val:"glo0001",item:"火龍果小ng一組"},{val:"glo0002",item:"小ng"}]};var O={name:"InsertView",data(){return{titles:[{text:"merchandiseTitle",val:this.$Constant.merchandise},{text:"dataSourceTitle",val:this.$Constant.dataSource},{text:"costTitle",val:this.$Constant.cost},{text:"quantityTitle",val:this.$Constant.quantity},{text:"totalCostTitle",val:this.$Constant.totalCost},{text:"salesTitle",val:this.$Constant.sales},{text:"profitTitle",val:this.$Constant.profit}],items:$(this.$route.query.Item),originalItems:null,dataSourceDdl:z,merchandiseGroupDdl:F,showResult:""}},props:{},methods:{AddRow:function(){let t=Date.now();this.items.push({storeId:t,seq:this.items.length,merchandise:"",dataSource:"shopee",cost:"",quantity:"",totalCost:0,sales:"",profit:0})},DeleteRow:function(t,e){this.items.splice(e,1),this.items.forEach((function(t,e){t.seq=e}))},ComputeTotalCount:function(t){return"number"!=typeof t.cost||"number"!=typeof t.quantity?t.totalCost=0:t.totalCost=t.cost*t.quantity},ComputeProfit:function(t){return"number"!=typeof t.cost||"number"!=typeof t.quantity||"number"!=typeof t.sales?t.profit=0:t.profit=t.sales-t.cost*t.quantity},AjaxSubmit:function(){this.showResult=JSON.stringify(this.items)},backPage(){this.$router.go(-1)}}},R=a(89);const H=(0,R.Z)(O,[["render",U],["__scopeId","data-v-512f45ca"]]);var J=H},2171:function(t){t.exports=JSON.parse('{"t":[{"storeId":"202212201131","merchandise":"4.6x300mm","dataSource":"Facebook","cost":100,"quantity":7,"totalCost":700,"sales":1050,"profit":350},{"storeId":"202212201132","merchandise":"4.6x400mm","dataSource":"蝦皮","cost":105,"quantity":1,"totalCost":105,"sales":130,"profit":25},{"storeId":"202212201133","merchandise":"4.6x500mm","dataSource":"蝦皮","cost":119,"quantity":3,"totalCost":357,"sales":450,"profit":93},{"storeId":"202212201134","merchandise":"4.6x200mm","dataSource":"Facebook","cost":139,"quantity":2,"totalCost":278,"sales":300,"profit":22},{"storeId":"202212201135","merchandise":"4.6x600mm","dataSource":"蝦皮","cost":50,"quantity":10,"totalCost":500,"sales":400,"profit":-100},{"storeId":"202212201136","merchandise":"束帶工具","dataSource":"蝦皮","cost":100,"quantity":7,"totalCost":700,"sales":1050,"profit":350},{"storeId":"202212201137","merchandise":"束帶工具","dataSource":"Facebook","cost":50,"quantity":10,"totalCost":500,"sales":1200,"profit":700},{"storeId":"202212201138","merchandise":"4.6x600mm","dataSource":"Facebook","cost":119,"quantity":3,"totalCost":357,"sales":450,"profit":93},{"storeId":"202212201139","merchandise":"火龍果小ng一組","dataSource":"Facebook","cost":50,"quantity":10,"totalCost":500,"sales":1200,"profit":700},{"storeId":"202212201140","merchandise":"4.6x300mm","dataSource":"蝦皮","cost":100,"quantity":8,"totalCost":800,"sales":500,"profit":-300},{"storeId":"202212201141","merchandise":"火龍果小ng一組","dataSource":"蝦皮","cost":50,"quantity":11,"totalCost":550,"sales":1200,"profit":650},{"storeId":"202212201142","merchandise":"4.6x400mm","dataSource":"Facebook","cost":50,"quantity":10,"totalCost":500,"sales":1200,"profit":700}]}')}}]);
//# sourceMappingURL=351.102d8528.js.map